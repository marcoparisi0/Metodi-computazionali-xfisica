import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from  scipy import integrate
import math
import argparse

x0 =float( input('Immettere punto di partenza da cui calcolare il periodo (intervallo di integrazione [0, x0] : '))
k=float(input('inserire la costante elastica k:'))
m=float(input('inserire la massa:'))

def V(x):
    return k*(x**6)

x  = np.arange(0,x0, 0.1)
integranda=np.sqrt(8*m)*(1/(np.sqrt(V(x0)-V(x))))
integrale=integrate.simpson(integranda, dx=x0/10000)

print('il valore del periodo per kx^6è   T:', integrale)


"""
da qui provo a creare un grafico che mi dia l'andamento di V al variare del punto di partenza
"""
x0_0=np.arange(0,100,0.5)

c=[]
for i in x0_0:
    integranda_0=np.sqrt(8*m)*(1/(np.sqrt(V(i)-V(x))))
    cucu=integrate.simpson(integranda_0,dx = 0.01)
    c.append(cucu)


"""
rifaccio l'analisi per potenziale kx^2
"""


xi =float( input('Immettere punto di partenza da cui calcolare il periodo (intervallo di integrazione [0, xi] : '))
j=float(input('inserire la costante elastica j:'))
M=float(input('inserire la massa:'))

def V_star(x):
    return j*(x**2)

ics  = np.arange(0,x0, 0.1)
intda=np.sqrt(8*M)*(1/(np.sqrt(V_star(xi)-V_star(ics))))
intle=integrate.simpson(intda, dx=xi/10000)

print('il valore del periodo per kx^2 è   T:', integrale)


xi_i=np.arange(0,100,0.5)

d=[]
for i in xi_i:
    intda_i=np.sqrt(8*M)*(1/(np.sqrt(V_star(i)-V_star(ics))))
    miu=integrate.simpson(intda_i,dx = 0.01)
    d.append(miu)


fig,ax = plt.subplots(1,2, figsize=(12,6) )


ax[0].plot(x0_0, c, color = 'blue')
ax[0].set_xlabel('x0')
ax[0].set_ylabel('Potenziale  kx^6')
ax[0].set_title('andamento di V al variare del punto di partenza x0')

ax[1].plot(xi_i, d, color = 'pink')
ax[1].set_xlabel('x0')
ax[1].set_ylabel('Potenziale kx^2')
ax[1].set_title('andamento di V al variare del punto di partenza x0')
plt.show()
